<div class="app" fxFlexFill fxLayout="column">
  <div *ngIf="loading" fxFlex fxLayoutAlign="center center">
    <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
  </div>
  <ng-container *ngIf="!loading">
    <mat-sidenav-container fxFlex>
      <mat-sidenav #sidenav
                   [mode]="isXs ? 'over' : 'side'"
                   [disableClose]="!isXs"
                   [opened]="!isXs"
                   class="mat-elevation-z4">
        <mat-nav-list class="app-links">
          <h3 mat-subheader>Меню</h3>
          <mat-list-item routerLink="/all" routerLinkActive="active">
            <mat-icon mat-list-icon>list</mat-icon>
            <p mat-line>Все</p>
            <p class="app-links-counter">{{emojiCount(EmojiStatus.Default, EmojiStatus.Favorite)}}</p>
          </mat-list-item>
          <mat-list-item routerLink="favorite" routerLinkActive="active">
            <mat-icon mat-list-icon>star</mat-icon>
            <p mat-line>Любимые</p>
            <p class="app-links-counter">{{emojiCount(EmojiStatus.Favorite)}}</p>
          </mat-list-item>
          <mat-list-item routerLink="deleted" routerLinkActive="active">
            <mat-icon mat-list-icon>delete</mat-icon>
            <p mat-line>Удаленные</p>
            <p class="app-links-counter">{{emojiCount(EmojiStatus.Deleted)}}</p>
          </mat-list-item>
        </mat-nav-list>
      </mat-sidenav>

      <mat-sidenav-content>
        <app-toolbar (menuCLick)="sidenav.toggle()"></app-toolbar>
        <div class="app-content">
          <router-outlet></router-outlet>
        </div>
      </mat-sidenav-content>
    </mat-sidenav-container>
  </ng-container>
</div>
